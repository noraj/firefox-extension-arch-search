# Maintainer: noraj <printf %s 'YWxleGFuZHJlLnphbm5pQGV1cm9wZS5jb20='|base64 -d>

pkgname=firefox-extension-arch-search
pkgver=2.0.1
pkgrel=4
_amo_base_url=https://addons.mozilla.org/firefox/downloads/file

_alpkgs_code=archlinux_packages_search
_alpkgs_ver=1.0.3
_alpkgs_dl_id=4337415
_alpkgs_gecko_id=ArchPkgs@archlinux.org

_alwiki_code=archlinux_wiki_search
_alwiki_ver=1.0.4
_alwiki_dl_id=4337417
_alwiki_gecko_id=ArchWiki@archlinux.org

_alaur_code=archlinux_aur_search
_alaur_ver=1.0.5
_alaur_dl_id=4337418
_alaur_gecko_id=ArchAur@archlinux.org.xpi

_albugs_code=archlinux_bugtracker_search
_albugs_ver=1.0.0
_albugs_dl_id=4338127
_albugs_gecko_id=ArchBugs@archlinux.org

_alforuma_code=archlinux_forum_by_author_search
_alforuma_ver=1.0.3
_alforuma_dl_id=4337411
_alforuma_gecko_id=ArchForumA@archlinux.org

_alforumk_code=archlinux_forum_by_keywords_search
_alforumk_ver=1.0.3
_alforumk_dl_id=4337414
_alforumk_gecko_id=ArchForumK@archlinux.org

_alman_code=archlinux_manual_pages_search
_alman_ver=1.0.4
_alman_dl_id=4337416
_alman_gecko_id=ArchMan@archlinux.org

_alsec_code=archlinux_security_search
_alsec_ver=1.0.1
_alsec_dl_id=4349093
_alsec_gecko_id=ArchSec@archlinux.org

_alsrc_code=archlinux_pkgbuild_search
_alsrc_ver=1.0.0
_alsrc_dl_id=4337419
_alsrc_gecko_id=ArchSrc@archlinux.org

pkgdesc="A set of Web Extensions that adds ArchLinux (bug tracker, forum, packages, wiki, AUR) as a search engine to the Firefox browser."
arch=('any')
url="https://github.com/noraj/firefox-extension-arch-search"
license=('MIT')
groups=('firefox-addons')
depends=("firefox")
replaces=('arch-firefox3-search' 'arch-firefox-search')
source=("$_amo_base_url/$_alaur_dl_id/$_alaur_code-$_alaur_ver.xpi"
        "$_amo_base_url/$_albugs_dl_id/$_albugs_code-$_albugs_ver.xpi"
        "$_amo_base_url/$_alforuma_dl_id/$_alforuma_code-$_alforuma_ver.xpi"
        "$_amo_base_url/$_alforumk_dl_id/$_alforumk_code-$_alforumk_ver.xpi"
        "$_amo_base_url/$_alpkgs_dl_id/$_alpkgs_code-$_alpkgs_ver.xpi"
        "$_amo_base_url/$_alwiki_dl_id/$_alwiki_code-$_alwiki_ver.xpi"
        "$_amo_base_url/$_alman_dl_id/$_alman_code-$_alman_ver.xpi"
        "$_amo_base_url/$_alsec_dl_id/$_alsec_code-$_alsec_ver.xpi"
        "$_amo_base_url/$_alsrc_dl_id/$_alsrc_code-$_alsrc_ver.xpi"
        "https://raw.githubusercontent.com/noraj/$pkgname/master/LICENSE")
noextract=("$_alaur_code-$_alaur_ver.xpi"
           "$_albugs_code-$_albugs_ver.xpi"
           "$_alforuma_code-$_alforuma_ver.xpi"
           "$_alforumk_code-$_alforumk_ver.xpi"
           "$_alpkgs_code-$_alpkgs_ver.xpi"
           "$_alwiki_code-$_alwiki_ver.xpi"
           "$_alman_code-$_alman_ver.xpi"
           "$_alsec_code-$_alsec_ver.xpi"
           "$_alsrc_code-$_alsrc_ver.xpi")
b2sums=('1a0010fefea0986b0ded2c483e56244418b000712d84c0d252a00f35622905f4e6dd67d3037e183012d03b1233523d613cf0d8c525a3668058f92c7769409c42'
        '7e9c6978dacf709cf8dc0be044492ef276c1835ed30db5aa64fbc35f3a45608885a6662fc4048985ae74e812f94b202d543dcdfcbb431454c2898f3337e98c22'
        '883c3569f1e1ad12cd3d1109fadde148fd8040126dcd6bff4aeec027c246f3b4d5e7d8552934eb7cc29b357152699606df3d4656d86fae0722054b13914e46bb'
        '2980f6e853a2d30236bed266da9a942f41b6393c1aa14b5bab38e79d26f4e741bd536331476b364e98f333a83e04f364554e141e1eab63ee0c1bf69615c9aa2a'
        'ae8574a0899510a7d6f338a24f0ca96456fd3ff3e14a1c1c1e5a7d4a225df1dcb23329ce71c5d49d3b4374f7c595ba390b5556d3bb83d3a13147d38103473e17'
        'e498b4cc098ef64f4d1c2b51b9988eecded6e7695db17b5edd483098bae132f55eae437d7ee23520a6f5b1d80ea1c5fced5bff6a13c2b17a89add242447a22d6'
        'e422cde6ee9d0ff10866713a5ebc5219dbafc9e0381d7aa6f185ed14a2758c53e56a020502c2b8badc1eb2e8844ee73c74f0a8a2f41588638be53077677f53cc'
        '0a8308713f38bdd8c00359457530dbedc6676b4eaa77deffe928b506f411a6863c462dbf31c924dbde5750535049380820ce0057c567416145a54155c1c8c10c'
        'b82d5f510ecdd9eb3ec75ae8f73c4a3e06da80e31f6f972a192534ebebf029b1be4f260cd907296274d184a9ac00162f2ff3c0707471e443ce225b93d8b2e218'
        '34a88b0db4073f62e676a5f00808deec333e71090799ef011c8d75904e865d566539ba7a495fd2738bf8e34429240b31648664cdd37fe28feb2f298ee3bb5f6e')

package() {

  install -Dm644 "$_alaur_code-$_alaur_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alaur_gecko_id"
  install -Dm644 "$_albugs_code-$_albugs_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_albugs_gecko_id.xpi"
  install -Dm644 "$_alforuma_code-$_alforuma_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alforuma_gecko_id.xpi"
  install -Dm644 "$_alforumk_code-$_alforumk_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alforumk_gecko_id.xpi"
  install -Dm644 "$_alpkgs_code-$_alpkgs_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alpkgs_gecko_id.xpi"
  install -Dm644 "$_alwiki_code-$_alwiki_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alwiki_gecko_id.xpi"
  install -Dm644 "$_alman_code-$_alman_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alman_gecko_id.xpi"
  install -Dm644 "$_alsec_code-$_alsec_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alsec_gecko_id.xpi"
  install -Dm644 "$_alsrc_code-$_alsrc_ver.xpi" "$pkgdir/usr/lib/firefox/browser/extensions/$_alsrc_gecko_id.xpi"

  install -Dm644 -t "$pkgdir/usr/share/licenses/$pkgname/" LICENSE
}
